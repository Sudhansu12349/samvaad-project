<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compare Drafts - SAMVAAD SETU</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- Base & Header Styles (unchanged) --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Montserrat', sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh; display: flex; flex-direction: column; }
        .header { background: #2E5BBA; padding: 15px 0; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); }
        .header-content { width: 100%; max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; }
        .logo-section { display: flex; align-items: center; gap: 15px; }
        .logo-section img { width: 45px; height: 45px; border-radius: 50%; }
        .logo-text { color: white; font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: 700; }
        .right-section { display: flex; align-items: center; gap: 15px; }
        .nav-bar { display: flex; gap: 15px; align-items: center; }
        .nav-bar a { text-decoration: none; color: white; font-weight: 500; font-size: 1rem; transition: all 0.3s ease; padding: 8px 12px; border-radius: 5px; }
        .nav-bar a:hover, .nav-bar a.active { background: rgba(255, 255, 255, 0.1); }
        .hamburger-menu { font-size: 1.5rem; color: white; cursor: pointer; padding: 10px; border-radius: 5px; transition: all 0.3s ease; display: block; }
        .main-content { max-width: 1200px; margin: 0 auto; padding: 40px 20px; flex-grow: 1; width: 100%; }

        /* --- Sidebar & History Panel Styles (unchanged) --- */
        .sidebar, .history-panel { height: 100%; width: 0; position: fixed; z-index: 2000; top: 0; right: 0; background: white; overflow-x: hidden; transition: 0.3s; padding-top: 60px; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1); }
        .sidebar a, .history-panel a { padding: 15px 25px; text-decoration: none; font-size: 18px; color: #2c3e50; display: block; transition: 0.3s; }
        .sidebar a:hover, .history-panel a:hover { background: #f8f9fa; color: #2E5BBA; }
        .sidebar .closebtn, .history-panel .closebtn { position: absolute; top: 0; right: 25px; font-size: 36px; margin-left: 50px; color: #2c3e50; }
        .history-panel h2 { padding: 10px 25px; font-size: 1.5rem; color: #2c3e50; font-family: 'Playfair Display', serif; }
        .history-panel .history-item { padding: 12px 25px; border-bottom: 1px solid #f0f0f0; }
        .history-panel .history-item .title { font-weight: 600; color: #2c3e50; display: block; }
        .history-panel .history-item .date { font-size: 0.85rem; color: #6c757d; }
        
        /* --- Modal Styles (unchanged) --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(44, 62, 80, 0.7); z-index: 5000; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: white; padding: 25px 30px; border-radius: 15px; width: 90%; max-width: 800px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); display: flex; flex-direction: column; max-height: 85vh; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #dee2e6; }
        .modal-header h2 { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: #2c3e50; margin: 0; text-align: center; flex-grow: 1; }
        .back-btn { background: transparent; border: none; color: #495057; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 1rem; text-decoration: none; transition: all 0.3s ease; }
        .back-btn:hover { background: #f0f0f0; color: #2c3e50; }
        .header-spacer { width: 80px; flex-shrink: 0; }
        .draft-list { overflow-y: auto; padding: 10px 5px; margin-bottom: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .draft-item { display: flex; align-items: flex-start; padding: 12px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; }
        .draft-item:hover { background-color: #f8f9fa; }
        .draft-item input[type="checkbox"] { margin-right: 12px; width: 18px; height: 18px; accent-color: #2E5BBA; flex-shrink: 0; margin-top: 2px; }
        .modal-footer { display: flex; justify-content: flex-end; padding-top: 15px; border-top: 1px solid #dee2e6; }
        .compare-btn { background: #2E5BBA; border: none; color: white; padding: 12px 30px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; }
        .compare-btn:hover { background: #1e4a9a; }
        .compare-btn:disabled { background: #aab8c2; cursor: not-allowed; opacity: 0.7; }

        /* --- NEW: Comparison Results Layout --- */
        #comparison-results { display: none; }
        #comparison-header { text-align: center; margin-bottom: 30px; }
        #comparison-header h1 { font-family: 'Playfair Display', serif; font-size: 2.5rem; }
        
        .comparison-grid {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 20px;
        }

        .draft-card {
            flex: 1;
            max-width: 30%; /* Each card takes up to 30% of the space */
            background: #ffffff;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }
        
        .draft-card h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-family: 'Playfair Display', serif;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .draft-card h4 {
            font-size: 1rem;
            margin-top: 15px;
            margin-bottom: 8px;
            color: #2E5BBA;
        }

        .draft-card ul {
            list-style-type: none;
            padding-left: 0;
        }

        .draft-card li {
            padding: 8px 0;
            font-size: 0.95rem;
            line-height: 1.6;
            border-bottom: 1px solid #f9f9f9;
        }
        
        .cross-comparison {
            flex: 1;
            max-width: 35%; /* The middle takes up a bit more space */
            text-align: center;
            padding-top: 20px;
        }
        
        .cross-comparison h3 {
            font-size: 1.3rem;
            font-family: 'Playfair Display', serif;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .cross-comparison p {
            padding: 12px 0;
            margin: 0 10px;
            border-bottom: 1px dotted #bdc3c7;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .cross-comparison p:last-child {
            border-bottom: none;
        }

        .insight-card {
            margin-top: 40px; /* Space above the insights card */
            background: #ffffff;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #3498db;
        }
        .card-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .card-header i { font-size: 1.5rem; color: #3498db; }
        .card-header h3 { font-size: 1.4rem; font-weight: 600; }
        .insight-card ul { list-style: none; padding-left: 10px; }
        .insight-card li { padding: 10px 0; border-bottom: 1px solid #f0f0f0; line-height: 1.6; }
        .insight-card li:last-child { border-bottom: none; }
        
        /* --- AI Chatbot Styles (unchanged) --- */
        .ai-agent { position: fixed; bottom: 30px; right: 30px; z-index: 1000; }
        .ai-toggle-btn { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #2E5BBA 0%, #1e4a9a 100%); border: none; color: white; font-size: 1.5rem; cursor: pointer; box-shadow: 0 5px 20px rgba(46, 91, 186, 0.3); transition: all 0.3s ease; }
        .ai-chat-box { position: absolute; bottom: 80px; right: 0; width: 350px; height: 450px; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); display: none; flex-direction: column; overflow: hidden; }
        .chat-header { background: #2E5BBA; color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; }
        .chat-messages { flex: 1; padding: 15px; overflow-y: auto; background: #f8f9fa; }
        .chat-input-area { padding: 15px; background: white; border-top: 1px solid #eee; display: flex; gap: 10px; }
        .chat-input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 20px; outline: none; }
        .chat-send-btn { background: #2E5BBA; border: none; color: white; padding: 10px 15px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        /* --- Responsive Styles --- */
        @media (max-width: 992px) {
            .nav-bar { display: none; }
            
            .comparison-grid { flex-direction: column; } /* Stacks cards on smaller screens */
            .draft-card, .cross-comparison { max-width: 100%; width: 100%; }
        }
        @media (max-width: 768px) {
            .draft-list { grid-template-columns: 1fr; }
            .ai-chat-box { width: calc(100vw - 40px); right: -10px; bottom: 70px; }
        }
    </style>
</head>
<body>

    <header class="header"> <div class="header-content">
            <div class="logo-section"><img src="samvaadsetu.jpg" alt="Samvaad Setu Logo"><div class="logo-text">SAMVAAD SETU</div></div>
            <div class="right-section">
                <nav class="nav-bar"><a href="index.html">Home</a><a href="compare.html" class="active">Compare</a><a href="#" id="historyLink" onclick="openHistoryPanel(event)">History</a><a href="about.html">About</a></nav>
                <div class="hamburger-menu" onclick="openNav()">☰</div>
            </div>
        </div>
    </header>

    <div id="mySidebar" class="sidebar"><a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a><a href="drafts.html">All Drafts</a><a href="https://www.mca.gov.in" target="_blank">MOCA Website</a><a href="contact.html">Contact Us</a><a href="policy.html">Terms and Conditions</a></div>
    <div id="historyPanel" class="history-panel"><a href="javascript:void(0)" class="closebtn" onclick="closeHistoryPanel()">&times;</a><h2>Analysis History</h2><div class="history-item"><a href="#"><span class="title">Analysis of Companies Act</span><span class="date">28 Sep 2025</span></a></div></div>
    <div class="modal-overlay" id="draftSelectionModal"><div class="modal-content"><div class="modal-header"><a href="index.html" class="back-btn">Back</a><h2>Select Two Drafts</h2><div class="header-spacer"></div></div><div class="draft-list" id="draftList"></div><div class="modal-footer"><button class="compare-btn" id="compareBtn" disabled>Compare</button></div></div></div>

    <main class="main-content">
        <div id="comparison-results">
            <div id="comparison-header">
                <h1 id="comparisonTitle">Draft Comparison</h1>
            </div>

            <div class="comparison-grid">
                <div class="draft-card">
                    <h3 id="draftAName">Problems and Appreciations of [Draft A]</h3>
                    <h4><i class="fas fa-exclamation-circle" style="color: #e74c3c;"></i> Problems</h4>
                    <ul>
                        <li>Clarity is needed on 'significant beneficial owner'.</li>
                        <li>Proposed changes to directorship are too restrictive.</li>
                    </ul>
                    <h4><i class="fas fa-thumbs-up" style="color: #2ecc71;"></i> Appreciations</h4>
                    <ul>
                        <li>Decriminalization of minor offenses is a positive step.</li>
                        <li>Focus on improving ease of doing business is praised.</li>
                    </ul>
                </div>

                <div class="cross-comparison">
                    <h3>Cross-Draft Comparison</h3>
                    <p>Compliance timelines for MSMEs are seen as unfeasible in both frameworks.</p>
                    <p>The introduction of a settlement mechanism has received positive feedback across both drafts.</p>
                    <p>Both drafts face concerns about the potential for misuse of data under new reporting standards.</p>
                </div>

                <div class="draft-card">
                    <h3 id="draftBName">Problems and Appreciations of [Draft B]</h3>
                    <h4><i class="fas fa-exclamation-circle" style="color: #e74c3c;"></i> Problems</h4>
                    <ul>
                        <li>The timeline for MSME insolvency is not feasible.</li>
                        <li>Cross-border insolvency framework needs more detail.</li>
                    </ul>
                    <h4><i class="fas fa-thumbs-up" style="color: #2ecc71;"></i> Appreciations</h4>
                    <ul>
                        <li>Introduction of pre-packaged insolvency is a major improvement.</li>
                        <li>The settlement mechanism is well-defined.</li>
                    </ul>
                </div>
            </div>

            <div class="insight-card">
                <div class="card-header"><i class="fas fa-lightbulb"></i><h3>Other Valuable Insights</h3></div>
                <ul>
                    <li>Feedback for Draft A often references UK law, while Draft B feedback mentions Singaporean law.</li>
                    <li>There is a 35% overlap in stakeholders who provided feedback for both drafts.</li>
                </ul>
            </div>
        </div>
    </main>

    <div class="ai-agent"><div class="ai-chat-box" id="aiChatBox"><div class="chat-header"><h4>AI Assistant</h4><button onclick="toggleAiChat(event)" style="background:none;border:none;color:white;cursor:pointer;"><i class="fas fa-times"></i></button></div><div class="chat-messages" id="chatMessages"><div class="message ai-message"><strong>Samvaad AI:</strong> How can I assist?</div></div><div class="chat-input-area"><input type="text" class="chat-input" placeholder="Type..." id="chatInput"><button class="chat-send-btn" onclick="sendChatMessage()"><i class="fas fa-paper-plane"></i></button></div></div><button class="ai-toggle-btn" onclick="toggleAiChat(event)"><i class="fas fa-robot"></i></button></div>
    <footer style="background:#1c2e4a; color:white; text-align:center; padding:25px 15px; font-family:'Montserrat', sans-serif;"><p style="font-size:1rem; margin-bottom:8px;">© 2025 <strong>Samvaad Setu</strong> | Developed by <strong>Sutra Debuggers</strong></p><p style="margin-bottom:8px; font-size:0.9rem; color:#d0d6e2;">Team Members: Siddhant Kaushik • Sudhansu Raj • Suman Mantry • Sneha Singh Yadav • Shreya Sahu • Sahil Kourav</p><p style="margin-bottom:5px;"><a href="aboutd.html" style="color:#ffcc00; text-decoration:none; font-weight:600;">About Developers</a></p><p style="font-size:0.85rem; color:#b0bac9;">Prototype developed for <strong>Smart India Hackathon 2025</strong><br>Not an official MCA website.</p></footer>

<script>
    // --- All JavaScript is unchanged and will work with the new layout ---
    const allDrafts = ['Companies (Amendment) Act, 2025', 'Insolvency and Bankruptcy Code Bill, 2025', 'Limited Liability Partnership Rules, 2025', 'Competition (Amendment) Bill, 2025', 'Investor Education Fund Rules, 2025', 'Data Privacy Bill, 2025', 'E-Commerce Rules, 2025'];
    const sidebar = document.getElementById("mySidebar");
    const historyPanel = document.getElementById("historyPanel");
    const chatBox = document.getElementById("aiChatBox");
    const draftListContainer = document.getElementById('draftList');
    const compareBtn = document.getElementById('compareBtn');
    const modal = document.getElementById('draftSelectionModal');
    const resultsContainer = document.getElementById('comparison-results');
    const draftAName = document.getElementById('draftAName');
    const draftBName = document.getElementById('draftBName');

    function openNav() { sidebar.style.width = "250px"; }
    function closeNav() { sidebar.style.width = "0"; }
    function openHistoryPanel(event) { event.preventDefault(); historyPanel.style.width = "280px"; }
    function closeHistoryPanel() { historyPanel.style.width = "0"; }
    function toggleAiChat(event) { event.stopPropagation(); chatBox.style.display = (chatBox.style.display === "flex") ? "none" : "flex"; }
    function sendChatMessage() { /* Omitted for brevity, unchanged */ }
    function addChatMessage(text, sender) { /* Omitted for brevity, unchanged */ }
    
    function populateDrafts() { allDrafts.forEach(draftName => { const label = document.createElement('label'); label.className = 'draft-item'; const checkbox = document.createElement('input'); checkbox.type = 'checkbox'; checkbox.value = draftName; const span = document.createElement('span'); span.textContent = draftName; label.appendChild(checkbox); label.appendChild(span); draftListContainer.appendChild(label); }); }
    draftListContainer.addEventListener('change', () => { const selected = draftListContainer.querySelectorAll('input:checked'); compareBtn.disabled = (selected.length !== 2); });
    compareBtn.addEventListener('click', () => { const selected = draftListContainer.querySelectorAll('input:checked'); if (selected.length === 2) { const draft1 = encodeURIComponent(selected[0].value); const draft2 = encodeURIComponent(selected[1].value); window.location.search = `?draft1=${draft1}&draft2=${draft2}`; } });
    
    document.addEventListener('click', function(event) { const hamburger = document.querySelector('.hamburger-menu'); if (sidebar.style.width === "250px" && !sidebar.contains(event.target) && !hamburger.contains(event.target)) { closeNav(); } const historyLink = document.getElementById('historyLink'); if (historyPanel.style.width === "280px" && !historyPanel.contains(event.target) && !historyLink.contains(event.target)) { closeHistoryPanel(); } const aiAgent = document.querySelector('.ai-agent'); if (chatBox.style.display === 'flex' && !aiAgent.contains(event.target)) { toggleAiChat(event); } });
    
    document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const draft1 = params.get('draft1');
        const draft2 = params.get('draft2');

        if (draft1 && draft2) {
            modal.style.display = 'none';
            // Update the card titles with the selected draft names
            draftAName.textContent = `Problems and Appreciations of ${decodeURIComponent(draft1)}`;
            draftBName.textContent = `Problems and Appreciations of ${decodeURIComponent(draft2)}`;
            resultsContainer.style.display = 'block';
        } else {
            modal.style.display = 'flex';
            populateDrafts();
        }
    });
</script>

</body>
</html>